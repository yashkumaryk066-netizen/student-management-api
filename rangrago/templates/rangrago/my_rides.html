<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RangraGo - My Rides</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
</head>

<body class="bg-black text-white p-4 pb-20 max-w-lg mx-auto" style="font-family: 'Outfit';">

    <div class="flex items-center justify-between mb-6">
        <h1 class="text-2xl font-bold">Your Trips</h1>
        <a href="/rangrago/ride/" class="text-amber-500 font-bold text-sm">BOOK NEW</a>
    </div>

    <div class="space-y-4">
        {% for ride in rides %}
        <div class="bg-gray-900 border border-gray-800 p-4 rounded-xl shadow-lg relative overflow-hidden">
            <div class="flex justify-between items-start">
                <div>
                    <div class="text-xs text-gray-500 mb-1">{{ ride.created_at|date:"M d, Y â€¢ h:i A" }}</div>
                    <div class="font-bold text-lg text-white mb-2">â‚¹{{ ride.fare_amount }}</div>
                </div>
                <span class="px-2 py-1 rounded text-[10px] font-bold tracking-wider 
                    {% if ride.status == 'COMPLETED' %}bg-green-500/20 text-green-500
                    {% elif ride.status == 'CANCELLED' %}bg-red-500/20 text-red-500
                    {% else %}bg-amber-500/20 text-amber-500{% endif %}">
                    {{ ride.status }}
                </span>
            </div>

            <div class="flex flex-col gap-2 mt-2">
                <div class="flex items-center gap-2">
                    <div class="w-2 h-2 rounded-full bg-green-500"></div>
                    <div class="text-sm text-gray-300 truncate w-64">{{ ride.pickup_location }}</div>
                </div>
                <div class="flex items-center gap-2">
                    <div class="w-2 h-2 rounded-full bg-red-500"></div>
                    <div class="text-sm text-gray-300 truncate w-64">{{ ride.drop_location }}</div>
                </div>
            </div>

            {% if ride.driver %}
            <div class="mt-3 pt-3 border-t border-gray-800 flex items-center gap-2">
                <div class="w-6 h-6 rounded-full bg-gray-700 flex items-center justify-center text-[10px]">
                    <i class="fa-solid fa-user"></i>
                </div>
                <div class="text-xs text-gray-400">Pilot: {{ ride.driver.user.first_name|default:"Rangra Pilot" }}</div>
            </div>
            {% endif %}
        </div>
        {% empty %}
        <div class="text-center py-20 text-gray-500">
            <div class="text-4xl mb-4">ðŸš–</div>
            <p>No rides yet.</p>
            <a href="/rangrago/ride/" class="mt-4 inline-block text-amber-500">Book your first ride</a>
        </div>
        {% endfor %}
    </div>

    <!-- Bottom Nav -->
    <div
        class="fixed bottom-0 left-0 w-full bg-black/90 backdrop-blur-md border-t border-gray-800 p-4 flex justify-around text-gray-500 text-xs z-50">
        <a href="/rangrago/ride/" class="flex flex-col items-center gap-1 hover:text-white">
            <i class="fa-solid fa-house"></i> Home
        </a>
        <a href="#" class="flex flex-col items-center gap-1 text-amber-500">
            <i class="fa-solid fa-clock-rotate-left"></i> Activity
        </a>
        <a href="#" class="flex flex-col items-center gap-1 hover:text-white">
            <i class="fa-solid fa-user"></i> Account
        </a>
    </div>

</body>

</html>